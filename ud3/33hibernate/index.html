
<!doctype html>
<html lang="es" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.0, mkdocs-material-8.5.6">
    
    
      
        <title>3.3.- Hibernate - Acceso a Datos</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.20d9efc8.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.cbb835fc.min.css">
        
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  


  
    <script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
  

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="teal">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#_1" class="md-skip">
          Saltar a contenido
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Cabecera">
    <a href="../.." title="Acceso a Datos" class="md-header__button md-logo" aria-label="Acceso a Datos" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Acceso a Datos
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              3.3.- Hibernate
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          
          <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="teal"  aria-label="Cambiar a modo noche"  type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Cambiar a modo noche" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg>
            </label>
          
        
          
          
          <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="teal" data-md-color-accent="teal"  aria-label="Cambiar a modo d铆a"  type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Cambiar a modo d铆a" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg>
            </label>
          
        
      </form>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="B煤squeda" placeholder="B煤squeda" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Limpiar" aria-label="Limpiar" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Inicializando b煤squeda
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navegaci贸n" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Acceso a Datos" class="md-nav__button md-logo" aria-label="Acceso a Datos" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    Acceso a Datos
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Inicio
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2">
          1.- Acceso a ficheros
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="1.- Acceso a ficheros" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          1.- Acceso a ficheros
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ud1/11io/" class="md-nav__link">
        1.1.- Entrada/Salida (I/O) de la informaci贸n
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ud1/12binaryfiles/" class="md-nav__link">
        1.2.- Ficheros binarios
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ud1/13characterfiles/" class="md-nav__link">
        1.3.- Ficheros de caracteres
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ud1/14fileclass/" class="md-nav__link">
        1.4.- Clase File
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ud1/15javanio/" class="md-nav__link">
        1.5.- java.nio
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ud1/16randomaccessfile/" class="md-nav__link">
        1.6.- Ficheros de acceso aleatorio
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ud1/17configfiles/" class="md-nav__link">
        1.7.- Ficheros de configuraci贸n
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ud1/18xmlfiles/" class="md-nav__link">
        1.8.- XML
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ud1/19jsonfiles/" class="md-nav__link">
        1.9.- JSON
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ud1/20createjar/" class="md-nav__link">
        1.10.- Crear un .jar
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ud1/21tryresources/" class="md-nav__link">
        1.11.- try-with-resources
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          2.- Acceso a bases de datos relacionales
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="2.- Acceso a bases de datos relacionales" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          2.- Acceso a bases de datos relacionales
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ud2/21persistencia/" class="md-nav__link">
        2.1.- Persistencia de la informaci贸n
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ud2/22mapeo/" class="md-nav__link">
        2.2.- Desfase objeto-relacional
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ud2/23conectores/" class="md-nav__link">
        2.3.- Manejo de conectores - JDBC
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ud2/24transactions/" class="md-nav__link">
        2.4.- Transacciones
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ud2/25procedures/" class="md-nav__link">
        2.5.- Procedimientos y funciones almacenadas
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ud2/26rendimiento/" class="md-nav__link">
        2.6.- Mejora del rendimiento
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ud2/27projectstructure/" class="md-nav__link">
        2.7.- Estructura de los proyectos
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_4">
          3.- Mapeo objeto-relacional (ORM)
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="3.- Mapeo objeto-relacional (ORM)" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          3.- Mapeo objeto-relacional (ORM)
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../31mapeo/" class="md-nav__link">
        3.1.- Herramientas ORM
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../32jpa/" class="md-nav__link">
        3.2.- Jakarta - JPA
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          3.3.- Hibernate
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        3.3.- Hibernate
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Tabla de contenidos">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Tabla de contenidos
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#arquitectura" class="md-nav__link">
    Arquitectura
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#persistence-context" class="md-nav__link">
    Persistence Context
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuracion-hibernate" class="md-nav__link">
    Configuraci贸n Hibernate
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#entity-properties" class="md-nav__link">
    Entity properties
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hibernate-query-language-hql-official-website" class="md-nav__link">
    Hibernate Query Language - HQL Official Website
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#criteria" class="md-nav__link">
    Criteria
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pom-proyecto" class="md-nav__link">
    POM proyecto
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../34dao/" class="md-nav__link">
        3.4.- Patr贸n DAO
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../about/" class="md-nav__link">
        About
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Tabla de contenidos">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Tabla de contenidos
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#arquitectura" class="md-nav__link">
    Arquitectura
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#persistence-context" class="md-nav__link">
    Persistence Context
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuracion-hibernate" class="md-nav__link">
    Configuraci贸n Hibernate
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#entity-properties" class="md-nav__link">
    Entity properties
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hibernate-query-language-hql-official-website" class="md-nav__link">
    Hibernate Query Language - HQL Official Website
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#criteria" class="md-nav__link">
    Criteria
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pom-proyecto" class="md-nav__link">
    POM proyecto
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="_1"><img alt="hibernate" src="../../img/ud3/9hibernate.png" /></h1>
<p>Hibernate, como una soluci贸n ORM, efectivamente "se ubica entre" la capa de acceso a datos de la aplicaci贸n Java y la base de datos relacional, como se puede ver en el diagrama siguiente.</p>
<p><a href="https://hibernate.org/orm/documentation/6.1/"> Documentaci贸n oficial</a></p>
<h2 id="arquitectura">Arquitectura</h2>
<p>La arquitectura "completa" abstrae la aplicaci贸n de las APIs de JDBC/JTA y permite que Hibernate se encargue de los detalles.
Hibernate usa JDBC para conectar con la BBDD y ejecutar querys.</p>
<table>
<thead>
<tr>
<th><img alt="hibernate" src="../../img/ud3/6hibernate.png" /></th>
<th><img alt="hibernate" src="../../img/ud3/8hibernate.png" /></th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p>Como proveedor de persistencia de Jakarta, Hibernate implementa las especificaciones de la API de persistencia de Java (JPA) y la asociaci贸n entre las interfaces de persistencia de Jakarta y las implementaciones espec铆ficas de Hibernate, que se pueden ver en el siguiente diagrama:</p>
<p><img alt="hibernate" src="../../img/ud3/7hibernate.png" /></p>
<ul>
<li>
<p> <strong>SessionFactory</strong>: inmutable, es una f谩brica para instanciar objetos <code>Session</code>. <code>EntityManagerFactory</code> es el equivalente de Persistencia de Jakarta de <code>SessionFactory</code>. Una <code>SessionFactory</code> es muy costosa de crear, por lo que, para cualquier base de datos dada, la aplicaci贸n debe tener solo una SessionFactory asociada. SessionFactory mantiene los servicios que Hibernate usa en todas las sesiones, como cach茅s de segundo nivel, grupos de conexiones, integraciones de sistemas de transacciones, etc.</p>
</li>
<li>
<p> <strong>Session</strong>: En la nomenclatura de persistencia de Jakarta, la sesi贸n est谩 representada por un <code>EntityManager</code>. Session envuelve un JDBC java.sql.Connection y act煤a como una f谩brica para las instancias de <strong>org.hibernate.Transaction</strong>.</p>
</li>
<li>
<p> <strong>Transaction</strong>: <code>EntityTransaction</code> es el equivalente de Jakarta Persistence y ambos act煤an como una API de abstracci贸n para aislar la aplicaci贸n del sistema de transacciones subyacente en uso (JDBC o JTA).</p>
</li>
</ul>
<h2 id="persistence-context">Persistence Context</h2>
<p>Tanto la API <code>org.hibernate.Session</code> como la API <code>jakarta.persistence.EntityManager</code> representan un contexto para tratar con datos persistentes. Este concepto se denomina <strong>contexto de persistencia</strong>. Los datos persistentes tienen un estado en relaci贸n con un contexto de persistencia y la base de datos subyacente.</p>
<ul>
<li>
<p>В <strong>Transient</strong> (transitorio): la entidad acaba de ser instanciada y no est谩 asociada con un contexto de persistencia. No tiene una representaci贸n persistente en la base de datos y, por lo general, no se ha asignado ning煤n valor de identificador (a menos que se haya utilizado el generador asignado). No est谩 asociado a ninguna sesi贸n.</p>
</li>
<li>
<p>В <strong>Persistent</strong>: la entidad tiene un identificador asociado y est谩 asociada con un contexto de persistencia. Puede o no existir f铆sicamente en la base de datos todav铆a.</p>
</li>
<li>
<p>В <strong>Detached</strong> (separado): la entidad tiene un identificador asociado pero ya no est谩 asociada con un contexto de persistencia (generalmente porque el contexto de persistencia se cerr贸 (sesi贸n) o la instancia se desaloj贸 del contexto).</p>
</li>
<li>
<p>В <strong>Removed</strong>: la entidad tiene un identificador asociado y est谩 asociada con un contexto de persistencia; sin embargo, est谩 programada para su eliminaci贸n de la base de datos.</p>
</li>
</ul>
<p><img alt="hibernate" src="../../img/ud3/10hibernate.png" /></p>
<h2 id="configuracion-hibernate">Configuraci贸n Hibernate</h2>
<p>Hibernate requiere saber de antemano d贸nde encontrar la informaci贸n de configuraci贸n de la BBDD y de mapeo d que define c贸mo se relacionan las clases de Java con las tablas de la base de datos. Toda esta informaci贸n generalmente se proporciona como un archivo de propiedades de Java est谩ndar llamado <strong>hibernate.properties</strong>, o como un archivo XML llamado <strong>hibernate.cfg.xml</strong>.</p>
<p>La mayor铆a de las propiedades cogen los valores predeterminados y no es necesario especificarlos en el archivo de propiedades a menos que sea realmente necesario. <mark class="critic">Este archivo se guarda en el directorio ra铆z del classpath de su aplicaci贸n.</mark></p>
<p>Para el ejemplo usaremos un fichero XML de configuraci贸n:</p>
<div class="highlight"><span class="filename">hibernate.cfg.xml</span><pre><span></span><code><span class="linenos" data-linenos=" 1 "></span><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span>
<span class="linenos" data-linenos=" 2 "></span><span class="nt">&lt;hibernate-configuration</span> <span class="na">xmlns=</span><span class="s">&quot;http://www.hibernate.org/xsd/orm/cfg&quot;</span><span class="nt">&gt;</span>
<span class="linenos" data-linenos=" 3 "></span>    <span class="nt">&lt;session-factory&gt;</span>
<span class="linenos" data-linenos=" 4 "></span>        <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">&quot;connection.driver_class&quot;</span><span class="nt">&gt;</span>com.mysql.cj.jdbc.Driver<span class="nt">&lt;/property&gt;</span>
<span class="linenos" data-linenos=" 5 "></span>        <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">&quot;connection.url&quot;</span><span class="nt">&gt;</span>jdbc:mysql://localhost:3306/testdb2<span class="nt">&lt;/property&gt;</span>
<span class="linenos" data-linenos=" 6 "></span>        <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">&quot;connection.username&quot;</span><span class="nt">&gt;</span>root<span class="nt">&lt;/property&gt;</span>
<span class="linenos" data-linenos=" 7 "></span>        <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">&quot;connection.password&quot;</span><span class="nt">&gt;</span>root<span class="nt">&lt;/property&gt;</span>
<span class="linenos" data-linenos=" 8 "></span>        <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">&quot;dialect&quot;</span><span class="nt">&gt;</span>org.hibernate.dialect.MySQLDialect<span class="nt">&lt;/property&gt;</span>
<span class="linenos" data-linenos=" 9 "></span>
<span class="linenos" data-linenos="10 "></span>        <span class="cm">&lt;!--Mapeo mediante anotaciones --&gt;</span>
<span class="linenos" data-linenos="11 "></span>        <span class="nt">&lt;mapping</span> <span class="na">class=</span><span class="s">&quot;es.severo.persistence.entity.Tramite&quot;</span><span class="nt">&gt;&lt;/mapping&gt;</span>
<span class="linenos" data-linenos="12 "></span>    <span class="nt">&lt;/session-factory&gt;</span>
<span class="linenos" data-linenos="13 "></span><span class="nt">&lt;/hibernate-configuration&gt;</span>
</code></pre></div>
<p><a href="https://docs.jboss.org/hibernate/orm/6.1/userguide/html_single/Hibernate_User_Guide.html#configurations-database-connection">Website Oficial con todas las propiedades del fichero de configuraci贸n</a></p>
<h2 id="entity-properties">Entity properties</h2>
<p>Las clases que sean entidades deben cumplir las siguientes <strong>convenciones recomendadas</strong>:</p>
<ul>
<li> Incluir atributos de clase con visibilidad privada, <strong>private</strong>.</li>
<li> A帽adir <strong>el constructor por defecto</strong>, sin argumentos. Esto es un requisito de Jakarta e Hibernate para todas las clases persistentes. Hibernate necesita crear objetos para nosotros, utilizando Java Reflection.</li>
<li> Incluir <strong>getters y setters</strong>.</li>
<li> <strong>Declarar atributos de identificador</strong> (<code>@Id</code>) con nombres consistentes, y que se use un wrapper y no un tipo de dato primitivo. Ej Long o Integer. El atributo identificador no necesariamente necesita ser mapeado a la(s) columna(s) que definen f铆sicamente la clave primaria. Sin embargo, debe asignarse a la(s) columna(s) que pueden identificar de forma 煤nica cada fila.</li>
<li> Mapear la entidad con las <strong>anotaciones</strong> necesarias. <code>@Entity</code> para denotar que es una entidad. Y las anotaciones que se requieran en los atributos.</li>
</ul>
<p>--batches y flush and clear</p>
<h2 id="hibernate-query-language-hql-official-website">Hibernate Query Language - <a href="https://docs.jboss.org/hibernate/orm/6.1/userguide/html_single/Hibernate_User_Guide.html#hql">HQL Official Website</a></h2>
<h2 id="criteria"><a href="https://docs.jboss.org/hibernate/orm/6.1/userguide/html_single/Hibernate_User_Guide.html#criteria">Criteria</a></h2>
<h2 id="pom-proyecto">POM proyecto</h2>
<div class="highlight"><span class="filename">pom.xml</span><pre><span></span><code><span class="linenos" data-linenos=" 1 "></span><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="linenos" data-linenos=" 2 "></span><span class="nt">&lt;project</span> <span class="na">xmlns=</span><span class="s">&quot;http://maven.apache.org/POM/4.0.0&quot;</span>
<span class="linenos" data-linenos=" 3 "></span>         <span class="na">xmlns:xsi=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span>
<span class="linenos" data-linenos=" 4 "></span>         <span class="na">xsi:schemaLocation=</span><span class="s">&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;</span><span class="nt">&gt;</span>
<span class="linenos" data-linenos=" 5 "></span>    <span class="nt">&lt;modelVersion&gt;</span>4.0.0<span class="nt">&lt;/modelVersion&gt;</span>
<span class="linenos" data-linenos=" 6 "></span>
<span class="linenos" data-linenos=" 7 "></span>    <span class="nt">&lt;groupId&gt;</span>es.severo<span class="nt">&lt;/groupId&gt;</span>
<span class="linenos" data-linenos=" 8 "></span>    <span class="nt">&lt;artifactId&gt;</span>adahibernate<span class="nt">&lt;/artifactId&gt;</span>
<span class="linenos" data-linenos=" 9 "></span>    <span class="nt">&lt;version&gt;</span>1.0-SNAPSHOT<span class="nt">&lt;/version&gt;</span>
<span class="linenos" data-linenos="10 "></span>    <span class="nt">&lt;dependencies&gt;</span>
<span class="linenos" data-linenos="11 "></span>
<span class="linenos" data-linenos="12 "></span>        <span class="nt">&lt;dependency&gt;</span>
<span class="linenos" data-linenos="13 "></span>            <span class="nt">&lt;groupId&gt;</span>org.hibernate.orm<span class="nt">&lt;/groupId&gt;</span>
<span class="linenos" data-linenos="14 "></span>            <span class="nt">&lt;artifactId&gt;</span>hibernate-core<span class="nt">&lt;/artifactId&gt;</span>
<span class="linenos" data-linenos="15 "></span>            <span class="nt">&lt;version&gt;</span>6.1.5.Final<span class="nt">&lt;/version&gt;</span>
<span class="linenos" data-linenos="16 "></span>        <span class="nt">&lt;/dependency&gt;</span>
<span class="linenos" data-linenos="17 "></span>
<span class="linenos" data-linenos="18 "></span>        <span class="nt">&lt;dependency&gt;</span>
<span class="linenos" data-linenos="19 "></span>            <span class="nt">&lt;groupId&gt;</span>mysql<span class="nt">&lt;/groupId&gt;</span>
<span class="linenos" data-linenos="20 "></span>            <span class="nt">&lt;artifactId&gt;</span>mysql-connector-java<span class="nt">&lt;/artifactId&gt;</span>
<span class="linenos" data-linenos="21 "></span>            <span class="nt">&lt;version&gt;</span>8.0.31<span class="nt">&lt;/version&gt;</span>
<span class="linenos" data-linenos="22 "></span>        <span class="nt">&lt;/dependency&gt;</span>
<span class="linenos" data-linenos="23 "></span>
<span class="linenos" data-linenos="24 "></span>        <span class="nt">&lt;dependency&gt;</span>
<span class="linenos" data-linenos="25 "></span>            <span class="nt">&lt;groupId&gt;</span>org.hibernate.orm<span class="nt">&lt;/groupId&gt;</span>
<span class="linenos" data-linenos="26 "></span>            <span class="nt">&lt;artifactId&gt;</span>hibernate-jpamodelgen<span class="nt">&lt;/artifactId&gt;</span>
<span class="linenos" data-linenos="27 "></span>            <span class="nt">&lt;version&gt;</span>6.1.5.Final<span class="nt">&lt;/version&gt;</span>
<span class="linenos" data-linenos="28 "></span>        <span class="nt">&lt;/dependency&gt;</span>
<span class="linenos" data-linenos="29 "></span>
<span class="linenos" data-linenos="30 "></span>        <span class="nt">&lt;dependency&gt;</span>
<span class="linenos" data-linenos="31 "></span>            <span class="nt">&lt;groupId&gt;</span>jakarta.xml.bind<span class="nt">&lt;/groupId&gt;</span>
<span class="linenos" data-linenos="32 "></span>            <span class="nt">&lt;artifactId&gt;</span>jakarta.xml.bind-api<span class="nt">&lt;/artifactId&gt;</span>
<span class="linenos" data-linenos="33 "></span>            <span class="nt">&lt;version&gt;</span>4.0.0<span class="nt">&lt;/version&gt;</span>
<span class="linenos" data-linenos="34 "></span>        <span class="nt">&lt;/dependency&gt;</span>
<span class="linenos" data-linenos="35 "></span>    <span class="nt">&lt;/dependencies&gt;</span>
<span class="linenos" data-linenos="36 "></span>
<span class="linenos" data-linenos="37 "></span>    <span class="nt">&lt;properties&gt;</span>
<span class="linenos" data-linenos="38 "></span>        <span class="nt">&lt;maven.compiler.source&gt;</span>11<span class="nt">&lt;/maven.compiler.source&gt;</span>
<span class="linenos" data-linenos="39 "></span>        <span class="nt">&lt;maven.compiler.target&gt;</span>11<span class="nt">&lt;/maven.compiler.target&gt;</span>
<span class="linenos" data-linenos="40 "></span>    <span class="nt">&lt;/properties&gt;</span>
<span class="linenos" data-linenos="41 "></span>
<span class="linenos" data-linenos="42 "></span>    <span class="nt">&lt;build&gt;</span>
<span class="linenos" data-linenos="43 "></span>        <span class="nt">&lt;plugins&gt;</span>
<span class="linenos" data-linenos="44 "></span>            <span class="nt">&lt;plugin&gt;</span>
<span class="linenos" data-linenos="45 "></span>                <span class="nt">&lt;groupId&gt;</span>org.codehaus.mojo<span class="nt">&lt;/groupId&gt;</span>
<span class="linenos" data-linenos="46 "></span>                <span class="nt">&lt;artifactId&gt;</span>build-helper-maven-plugin<span class="nt">&lt;/artifactId&gt;</span>
<span class="linenos" data-linenos="47 "></span>                <span class="nt">&lt;version&gt;</span>3.0.0<span class="nt">&lt;/version&gt;</span>
<span class="linenos" data-linenos="48 "></span>                <span class="nt">&lt;executions&gt;</span>
<span class="linenos" data-linenos="49 "></span>                    <span class="nt">&lt;execution&gt;</span>
<span class="linenos" data-linenos="50 "></span>                        <span class="nt">&lt;id&gt;</span>add-source<span class="nt">&lt;/id&gt;</span>
<span class="linenos" data-linenos="51 "></span>                        <span class="nt">&lt;phase&gt;</span>generate-sources<span class="nt">&lt;/phase&gt;</span>
<span class="linenos" data-linenos="52 "></span>                        <span class="nt">&lt;goals&gt;</span>
<span class="linenos" data-linenos="53 "></span>                            <span class="nt">&lt;goal&gt;</span>add-source<span class="nt">&lt;/goal&gt;</span>
<span class="linenos" data-linenos="54 "></span>                        <span class="nt">&lt;/goals&gt;</span>
<span class="linenos" data-linenos="55 "></span>                        <span class="nt">&lt;configuration&gt;</span>
<span class="linenos" data-linenos="56 "></span>                            <span class="nt">&lt;sources&gt;</span>
<span class="linenos" data-linenos="57 "></span>                                <span class="nt">&lt;source&gt;</span>target/generated-sources/annotations<span class="nt">&lt;/source&gt;</span>
<span class="linenos" data-linenos="58 "></span>                            <span class="nt">&lt;/sources&gt;</span>
<span class="linenos" data-linenos="59 "></span>                        <span class="nt">&lt;/configuration&gt;</span>
<span class="linenos" data-linenos="60 "></span>                    <span class="nt">&lt;/execution&gt;</span>
<span class="linenos" data-linenos="61 "></span>                <span class="nt">&lt;/executions&gt;</span>
<span class="linenos" data-linenos="62 "></span>            <span class="nt">&lt;/plugin&gt;</span>
<span class="linenos" data-linenos="63 "></span>        <span class="nt">&lt;/plugins&gt;</span>
<span class="linenos" data-linenos="64 "></span>    <span class="nt">&lt;/build&gt;</span>
<span class="linenos" data-linenos="65 "></span>
<span class="linenos" data-linenos="66 "></span><span class="nt">&lt;/project&gt;</span>
</code></pre></div>


  




                
              </article>
            </div>
          
          
        </div>
        
          <a href="#" class="md-top md-icon" data-md-component="top" hidden>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            Volver al principio
          </a>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="Pie" >
      
        
        <a href="../32jpa/" class="md-footer__link md-footer__link--prev" aria-label="Anterior: 3.2.- Jakarta - JPA" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Anterior
              </span>
              3.2.- Jakarta - JPA
            </div>
          </div>
        </a>
      
      
        
        <a href="../34dao/" class="md-footer__link md-footer__link--next" aria-label="Siguiente: 3.4.- Patr贸n DAO" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Siguiente
              </span>
              3.4.- Patr贸n DAO
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["content.code.annotate", "navitagion.tabs", "navigation.top"], "search": "../../assets/javascripts/workers/search.5bf1dace.min.js", "translations": {"clipboard.copied": "Copiado al portapapeles", "clipboard.copy": "Copiar al portapapeles", "search.config.lang": "es", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "B\u00fasqueda", "search.result.more.one": "1 m\u00e1s en esta p\u00e1gina", "search.result.more.other": "# m\u00e1s en esta p\u00e1gina", "search.result.none": "No se encontraron documentos", "search.result.one": "1 documento encontrado", "search.result.other": "# documentos encontrados", "search.result.placeholder": "Teclee para comenzar b\u00fasqueda", "search.result.term.missing": "Falta", "select.version.title": "Seleccionar versi\u00f3n"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.078830c0.min.js"></script>
      
    
  </body>
</html>